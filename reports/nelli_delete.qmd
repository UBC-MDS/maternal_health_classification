---
title: Classification Model for identifying Maternal Health Risk
format: 
    html:
        toc: true
        toc-depth: 2
    pdf:
        toc: true
        toc-depth: 2
editor: source
bibliography: references.bib
execute:
    echo: false
    warning: false
---


Shannon Pflueger, Nelli Hovhannisyan, Joseph Lim

# Introduction

Maternal health remains a critical issue worldwide, especially in rural regions and among lower-middle-class families in emerging countries. The lack of access to proper healthcare, inadequate information about maternal care, and insufficient monitoring during pregnancy contribute to high maternal mortality rates. The significance of timely interventions and constant monitoring during pregnancy cannot be overstated, as each moment is crucial to ensuring the health and safety of both the mother and the baby.
This report investigates maternal health risks using exploratory data analysis and classification techniques such as Logistic regression, SVC and Naive Bayes to identify key factors that contribute to complications during pregnancy. 

The primary question addressed in this project is: What are the key indicators that predict maternal health risks during pregnancy?

To answer this question, a dataset containing information on various maternal health factors was used. Leading to the goal of the project which is to create a predictive model that can evaluate the risk factors associated with pregnancy.


```{python}
import pandas as pd
import numpy as np
import pandera as pa
import click
import altair as alt
from IPython.display import Markdown, display
from tabulate import tabulate
```

---------------------------------------------------------------------------------------------------------------------
# Exploring the Data

Let’s begin with a general exploration of our data. Based on the summaries from @tbl-df_describe and @tbl-df_info, we observe that there are no missing values, and all features, except for the target variable, are numeric. 

```{python}
#| label: tbl-df_describe
#| tbl-cap: Description of the maternal risk dataset.

df_describe_table = pd.read_csv("../results/tables/df_describe.csv")
Markdown(df_describe_table.to_markdown(index = False))
```

```{python}
#| label: tbl-df_info
#| tbl-cap: Information of the maternal risk dataset.

df_info_table = pd.read_csv("../results/tables/df_info.csv")
Markdown(df_info_table.to_markdown(index = False))
```

Although the dataset has a relatively small number of observations (@tbl-df_shape), it should still be sufficient for initial modeling efforts.

```{python}
#| label: tbl-df_shape
#| tbl-cap: Shape of the maternal risk dataset.

df_shape_table = pd.read_csv("../results/tables/df_shape.csv")
Markdown(df_shape_table.to_markdown(index = False))
```

From the @fig-countplot_of_risk_level, we can observe that the data is relatively balanced, with the "high risk" category having the fewest observations and the "low risk" category having the most.

![Countplot of the Risk Level variable](../results/figures/countplot_of_risk_level.png){#fig-countplot_of_risk_level width=80%}

Let’s discuss some of the relationships observed in the heatmap of the dataset seen in @fig-heatmap_of_the_maternal_health :
	- The “Risk Level,” our target variable, shows a noticeable correlation with “Blood Pressure.” This suggests that individuals with higher or lower blood pressure levels may fall into distinct risk categories. As a result, “Blood Pressure” could be an important predictor in the later stages of our analysis.
    - The systolic (upper) and diastolic (lower) blood pressure values exhibit a strong correlation, which is expected since both are closely related physiological metrics. Although we might have considered dropping one of them, the correlation remains below 0.8, so we will retain both, as they may still provide valuable insights when combined with other features.

![Heatmap of the Maternal Health Dataset](../results/figures/heatmap_of_the_maternal_health.png){#fig-heatmap_of_the_maternal_health width=70%}

We can see from the boxplots (@fig-boxplot_by_risk_level) that women in the high-risk group generally have higher values across all our features. For example, older women are more likely to be classified as high risk. Additionally, the high-risk group shows a wider range for upper blood pressure and blood glucose levels, with the median value being slightly higher than that of the other groups.
Another observation here is that there are quite a lot of outliers for the low risk category.

![Boxplot of the Maternal Health Dataset](../results/figures/boxplot_by_risk_level.png){#fig-boxplot_by_risk_level height=60%}
